---
description:
globs:
alwaysApply: false
---
# CURSORRULES.md

## 1. 브랜치 전략
- `master`: 배포/운영 브랜치 (PR을 통해서만 머지)
- `feature/*`: 기능 개발 브랜치 (ex. feature/redash-list)
- `fix/*`: 버그 수정 브랜치
- 모든 작업은 이슈/기능 단위로 브랜치 생성 후 PR

## 2. 커밋 컨벤션
- [타입]: [간단 설명]
- 예시: `feat: 리대시 쿼리 리스트 패널 구현`, `fix: n8n 챗봇 임베드 오류 수정`
- 타입: feat, fix, docs, style, refactor, test, chore

## 3. PR(Pull Request) 규칙
- PR 제목: [타입] 기능/이슈 요약
- PR 본문: 구현 내용, 테스트 방법, 관련 이슈, 스크린샷(필요시)
- 리뷰어 1인 이상 지정, 셀프 머지 금지

## 4. 코드 컨벤션
- TypeScript 사용 (any 지양)
- ESLint, Prettier 적용
- 함수/컴포넌트명은 카멜케이스, 파일명은 케밥케이스
- 환경변수는 `.env.local`에 저장, 코드 내 하드코딩 금지
- API 엔드포인트 등 민감 정보는 환경변수로 관리

## 5. 폴더 구조
- `/src/app`: Next.js app 디렉터리
- `/src/components`: 공통 컴포넌트
- `/src/features`: 도메인별 기능 모듈
- `/src/lib`: 유틸리티, API 클라이언트 등

## 6. 개발/배포
- `npm run dev`로 개발 서버 실행
- PR 머지 전 `npm run lint`/`npm run build`로 빌드 및 린트 확인
- 배포는 master 브랜치 기준

## 7. 기타
- 문서화: PRD.md, README.md, CURSORRULES.md 최신화
- 코드리뷰는 기능/구조/컨벤션/보안/확장성 관점에서 진행
- 외부 API(리대시, n8n) 연동 시 예외처리 및 에러 핸들링 필수

## 8. 주요색상
- 바이탈오렌지(vitalorange): #fa5014, 바로보드의 키 컬러

## 9. 화면 구조 및 이름
- 상단: gnb
- 좌측: lnb
- 중앙: container
- 우측: sidebar
- 하단: footer

## 10. 테스트코드
- playwright를 이용해서 모든 컴포넌트 테스트 케이스 추가

## 11. 프로젝트 정보
- 팀 이름: AIniti4
- 프로젝트 이름: Baro Board

## 12. 쿼리 리스트 조회 페이지 응답값 형태
```
{
  "count": 298,
  "page": 1,
  "page_size": 20,
  "results": [
    {
      "id": 2835,
      "latest_query_data_id": 264557,
      "name": "배민, 요기요 매핑 비율",
      "description": null,
      "query": "WITH total_stores AS (\n  SELECT\n    COUNT(*) as total_count\n  FROM\n    t1_db_gorela_productiongorela.public_stores as stores\n),\nagency_groups AS (\n  SELECT\n    CASE\n      WHEN oas.orderAgencyId IN ('baemin_delivery', 'baemin_v2', 'baemin_one') THEN '배민계열'\n      WHEN oas.orderAgencyId IN ('yogiyo', 'yogi_delivery') THEN '요기요'\n    END as agency_group,\n    COUNT(DISTINCT oas.storeId) as store_count\n  FROM\n    t1_db_gorela_productiongorela.public_order_agency_stores oas\n  WHERE\n    oas.mappingStatus = 'DONE'\n  GROUP BY\n    CASE\n      WHEN oas.orderAgencyId IN ('baemin_delivery', 'baemin_v2', 'baemin_one') THEN '배민계열'\n      WHEN oas.orderAgencyId IN ('yogiyo', 'yogi_delivery') THEN '요기요'\n    END\n)\nSELECT\n  ag.agency_group,\n  ag.store_count,\n  ts.total_count,\n  ROUND(\n    (\n      CAST(ag.store_count AS DOUBLE) / CAST(ts.total_count AS DOUBLE)\n    ) * 100,\n    2\n  ) as percentage\nFROM\n  agency_groups ag\n  CROSS JOIN total_stores ts\nORDER BY\n  ag.store_count DESC;",
      "query_hash": "1c79f5037198150042b4006c834d8dbb",
      "schedule": null,
      "api_key": "nRgGsnbRPJHbI2aWwrCmnfFD2vpmLB7lX515pgf7",
      "is_archived": false,
      "is_draft": false,
      "updated_at": "2025-07-01T02:28:42.726Z",
      "created_at": "2025-07-01T02:28:33.216Z",
      "data_source_id": 28,
      "options": {
          "apply_auto_limit": true,
          "parameters": []
      },
      "version": 1,
      "tags": [],
      "is_safe": true,
      "user": {
          "id": 52,
          "name": "[B2300705]김동원",
          "email": "tuna@barogo.com",
          "profile_image_url": "https://www.gravatar.com/avatar/42dae09d297d7a60993146261859fd5e?s=40&d=identicon",
          "groups": [
              27
          ],
          "updated_at": "2025-07-01T04:06:25.613Z",
          "created_at": "2023-08-29T07:28:10.544Z",
          "disabled_at": null,
          "is_disabled": false,
          "active_at": "2025-07-01T04:05:59Z",
          "is_invitation_pending": false,
          "is_email_verified": true,
          "auth_type": "password"
      },
      "last_modified_by_id": 52,
      "retrieved_at": "2025-07-15T09:53:34.782Z",
      "runtime": 2.6385819911956787,
      "is_favorite": false
    }
  ]
}
```
# 폰트
* 최소 폰트 크기는 12px
* 기본 폰트 크기는 14px

* 자동으로 코드 생성시 console 사용 금지. 특별히 요청할 때 제외하고는 자체적으로 console 생성 절대 금지
---

> 본 규칙은 프로젝트 상황에 따라 변경될 수 있습니다. 변경 시 팀원과 공유 필수. 